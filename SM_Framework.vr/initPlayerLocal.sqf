player setVariable ["Saved_Loadout",getUnitLoadout player];

respawnPos = getposATL player;

//Load the blacklist array into the Blacklist_Array variable
_arr = ["ACE_optic_Hamr_PIP", "uk3cb_HS50", "UK3CB_B_Invisible", "rhs_weap_ak103", "rhs_weap_ak103_npz", "rhs_weap_ak103_gp25", "rhs_weap_ak103_gp25_npz", "rhs_weap_ak103_zenitco01", "rhs_weap_ak103_zenitco01_b33", "rhs_weap_ak103_1", "rhs_weap_ak103_1_npz", "rhs_weap_ak103_2", "rhs_weap_ak103_2_npz", "rhs_weap_ak104", "rhs_weap_ak104_npz", "rhs_weap_ak104_zenitco01", "rhs_weap_ak104_zenitco01_b33", "arifle_AK12_F", "arifle_AK12_arid_F", "arifle_AK12_lush_F", "arifle_AK12_GL_F", "arifle_AK12_GL_arid_F", "arifle_AK12_GL_lush_F", "arifle_AK12U_F", "arifle_AK12U_arid_F", "arifle_AK12U_lush_F", "uk3cb_ak47", "uk3cb_ak47n", "arifle_AKM_F", 
"rhs_weap_akm", "rhs_weap_akm_gp25", "rhs_weap_akm_zenitco01_b33", "rhs_weap_akmn", "rhs_weap_akmn_gp25", "rhs_weap_akmn_gp25_npz", "rhs_weap_akmn_npz", "rhs_weap_akms", "rhs_weap_akms_gp25", "rhs_weap_asval", "rhs_weap_asval_grip", "rhs_weap_asval_grip_npz", "rhs_weap_asval_npz", "srifle_DMR_04_F", "srifle_DMR_04_Tan_F", "UK3CB_Bren", "UK3CB_C1A1", "hgun_PDW2000_F", "srifle_DMR_05_blk_F", "srifle_DMR_05_hex_F", 
"srifle_DMR_05_tan_f", "uk3cb_enfield_l42", "uk3cb_enfield_l42_walnut", "uk3cb_enfield_l8", "uk3cb_enfield_l8_walnut", "uk3cb_enfield_l8t", "uk3cb_enfield_l8t_walnut", "uk3cb_enfield_no3", "uk3cb_enfield_no3t", "uk3cb_enfield_no4", "uk3cb_enfield_no4_walnut", "uk3cb_enfield_no4t", "uk3cb_enfield_no4t_walnut", "uk3cb_enfield_no5", "uk3cb_enfield_no5_walnut", "UK3CB_CZ550", "srifle_GM6_F", "srifle_GM6_camo_F", "srifle_GM6_ghex_F", "rhs_weap_Izh18", "rhs_weap_kar98k", "sgun_HunterShotgun_01_sawedoff_F", "sgun_HunterShotgun_01_F", "MMG_02_black_F", "MMG_02_camo_F", "MMG_02_sand_F", "rhs_weap_m1garand_sa43", "rhs_weap_M107", "rhs_weap_M107_d", "rhs_weap_M107_w", "UK3CB_M1903A1_unertl", "UK3CB_M1903A1", "srifle_LRR_F", "srifle_LRR_camo_F", "srifle_LRR_tna_F", "rhs_weap_m32", "rhs_weap_m3a1", "rhs_weap_m3a1_specops", "rhs_weap_m40a5", "rhs_weap_m40a5_d", "rhs_weap_m40a5_wd", "rhs_weap_M590_8RD", "rhs_weap_M590_5RD", "rhs_weap_m70ab2", "rhs_weap_m70b1", "rhs_weap_m70b1n", "rhs_weap_m70b3n", "rhs_weap_m70b3n_pbg40", "rhs_weap_m76", "rhs_weap_m79", "UK3CB_M79", "rhs_weap_m82a1", "rhs_weap_m84", "rhs_weap_scorpion", "rhs_weap_m92", "rhs_weap_mosin_sbr", "rhs_weap_m38_rail", "rhs_weap_m38", "rhs_weap_MP44", "srifle_DMR_02_F", "srifle_DMR_02_camo_F", "srifle_DMR_02_sniper_F", "rhs_weap_pm63", "rhs_weap_pp2000", "uk3cb_ppsh41", "srifle_DMR_07_blk_F", "srifle_DMR_07_ghex_F", "srifle_DMR_07_hex_F", "rhs_weap_savz58p", "rhs_weap_savz58p_black", "rhs_weap_savz58p_rail", "rhs_weap_savz58p_rail_black", "rhs_weap_savz58v", "rhs_weap_savz58v_black", "rhs_weap_savz58v_rail_black", "rhs_weap_savz58v_rail", "rhs_weap_savz58v_ris", "UK3CB_Sten", "rhs_weap_t5000", "rhs_weap_vss", "rhs_weap_vss_grip", "rhs_weap_vss_grip_npz", "rhs_weap_vss_npz", "rhs_weap_tr8", "arifle_Katiba_F", "arifle_Katiba_GL_F", "arifle_Katiba_C_F", "arifle_MSBS65_F", "arifle_MSBS65_black_F", "arifle_MSBS65_camo_F", "arifle_MSBS65_sand_F", "arifle_MSBS65_GL_F", "arifle_MSBS65_GL_black_F", "arifle_MSBS65_GL_camo_F", "arifle_MSBS65_GL_sand_F", "arifle_MSBS65_Mark_F", "arifle_MSBS65_Mark_black_F", "arifle_MSBS65_Mark_camo_F", "arifle_MSBS65_Mark_sand_F", "arifle_MSBS65_UBS_F", "arifle_MSBS65_UBS_black_F", "arifle_MSBS65_UBS_camo_F", "arifle_MSBS65_UBS_sand_F", "arifle_MX_Black_F", "arifle_MX_F", "arifle_MX_khk_F", "arifle_MX_GL_F", "arifle_MX_GL_khk_F", "arifle_MX_SW_Black_F", "arifle_MXC_Black_F", "arifle_MXM_F", "arifle_MXC_khk_F", "arifle_MXC_F", "arifle_MX_SW_khk_F", "arifle_MX_SW_F", "arifle_MX_GL_Black_F", "arifle_MXM_Black_F", "arifle_MXM_khk_F", "LMG_Mk200_F", "LMG_Mk200_black_F", "arifle_ARX_blk_F", "arifle_ARX_ghex_F", "arifle_ARX_hex_F", "UK3CB_G36_MLIC", "UK3CB_G36_MLIC_K", "UK3CB_G36_MLIC_C", "rhs_weap_m24sws", "rhs_weap_m24sws_d", "rhs_weap_m24sws_wd", "MMG_01_hex_F", "MMG_01_tan_F", "rhs_weap_savz61_folded", "rhs_weap_pp2000_folded", "rhs_weap_savz61", "launch_B_Titan_short_tna_F", "launch_B_Titan_short_F", "launch_I_Titan_short_F", "launch_O_Titan_short_ghex_F", "launch_O_Titan_short_F", "launch_B_Titan_F", "launch_B_Titan_tna_F", "launch_B_Titan_olive_F", "launch_O_Titan_F", "launch_O_Titan_ghex_F", "launch_I_Titan_eaf_F", "launch_I_Titan_F", "launch_MRAWS_green_rail_F", "launch_MRAWS_olive_rail_F", "launch_MRAWS_sand_rail_F", "launch_MRAWS_green_F", "launch_MRAWS_olive_F", "launch_MRAWS_sand_F", "launch_RPG32_F", "launch_RPG32_ghex_F", "launch_RPG32_green_F", "launch_O_Vorona_green_F", "launch_O_Vorona_brown_F", "H_HelmetSpecO_ocamo", "H_HelmetSpecO_ghex_F", "H_HelmetSpecO_blk", "H_HelmetCrew_O_ghex_F", "H_HelmetLeaderO_ocamo", "H_HelmetLeaderO_oucamo", "H_HelmetLeaderO_ghex_F", "H_HelmetO_ghex_F", "H_HelmetO_ocamo", "H_HelmetO_oucamo", "H_HelmetO_ViperSP_hex_F", "H_HelmetO_ViperSP_ghex_F", "H_HelmetAggressor_cover_taiga_F", "H_HelmetAggressor_cover_F", "H_HelmetAggressor_F", "H_HelmetHBK_chops_F", "H_HelmetHBK_ear_F", "H_HelmetHBK_F", "H_HelmetHBK_headset_F", "H_HelmetB_TI_tna_F", "H_HelmetB_TI_arid_F", "H_HelmetIA", "U_I_Protagonist_VR", "U_C_Protagonist_VR", "U_O_Protagonist_VR", "U_B_Protagonist_VR", "U_O_officer_noInsignia_hex_F", "U_O_CombatUniform_oucamo", "U_O_CombatUniform_ocamo", "U_O_T_Soldier_F", "U_O_OfficerUniform_ocamo", "U_O_T_Officer_F", "U_O_T_Sniper_F", "U_O_SpecopsUniform_ocamo", "U_O_V_Soldier_Viper_hex_F", "U_O_V_Soldier_Viper_F", "V_PlateCarrier_Kerry", "UK3CB_V_Invisible", "UK3CB_V_Invisible_Plate", "B_ViperHarness_ghex_F", "B_ViperHarness_hex_F", "B_ViperLightHarness_ghex_F", "B_ViperLightHarness_hex_F", "G_Goggles_VR", "O_NVGoggles_ghex_F", "O_NVGoggles_grn_F", "O_NVGoggles_hex_F", "O_NVGoggles_urb_F", "NVGogglesB_gry_F", "NVGogglesB_grn_F", "NVGogglesB_blk_F", "UK3CB_PVS5A", "rhs_tr8_periscope", "rhs_tr8_periscope_pip", "Laserdesignator_02", "Laserdesignator_02_ghex_F", "rhs_grenade_m1939e_mag", "rhs_grenade_m1939l_mag", "rhs_mag_mk3a2", "rhs_grenade_mkiiia1_mag", "rhssaf_mag_rshb_p98", "rhsgref_mag_rkg3em", "rhssaf_mag_brk_m79", "rhs_mag_fakel", "rhs_mag_fakels", "optic_tws", "optic_tws_mg", "optic_Nightstalker", "rhsusf_mag_40Rnd_46x30_AP", "3Rnd_UGL_FlareGreen_F", "3Rnd_UGL_FlareCIR_F", "3Rnd_UGL_FlareRed_F", "3Rnd_UGL_FlareWhite_F", "3Rnd_UGL_FlareYellow_F", "3Rnd_SmokeBlue_Grenade_shell", "3Rnd_SmokeGreen_Grenade_shell", "3Rnd_SmokeOrange_Grenade_shell", "3Rnd_SmokePurple_Grenade_shell", "3Rnd_SmokeRed_Grenade_shell", "3Rnd_Smoke_Grenade_shell", "3Rnd_SmokeYellow_Grenade_shell", "3Rnd_HE_Grenade_shell"];
{[_X, _arr] call ace_arsenal_fnc_removeVirtualItems;} forEach [box1, box2];

//Logistics Crate Guy
[logistics, 0, ["ACE_MainActions"], spawnCrate] call ace_interact_menu_fnc_addActionToObject; //Parent
[logistics, 0, ["ACE_MainActions","spawnCrate"], ammoCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], FSGCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], rocketsCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], missilesCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], explosivesCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], utilCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], jerry_W_Logi] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], jerry_D_Logi] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], vicAmmoCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], vicFuelCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], vicRepairCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], medCrate] call ace_interact_menu_fnc_addActionToObject;
[logistics, 0, ["ACE_MainActions","spawnCrate"], emptyCrate] call ace_interact_menu_fnc_addActionToObject;

while {true} do {
	waitUntil {(damage (vehicle player)) == 1};
	{moveOut _x;} forEach (crew (vehicle player));
	sleep 10;
};